# Sistema de Gesti√≥n de Estudiantes - Frontend

Un sistema completo de gesti√≥n acad√©mica desarrollado con Angular 18 que permite administrar estudiantes, materias, informaci√≥n financiera y empresas educativas.

## üöÄ Caracter√≠sticas

- **Gesti√≥n de Estudiantes**: CRUD completo con informaci√≥n acad√©mica y personal
- **Administraci√≥n de Materias**: Control de asignaturas y estados acad√©micos
- **Sistema Financiero**: Gesti√≥n de pensiones, becas y pagos
- **Gesti√≥n de Empresas**: Informaci√≥n institucional y configuraci√≥n
- **Panel de Administraci√≥n**: Dashboard completo para administradores
- **Autenticaci√≥n y Autorizaci√≥n**: Sistema de login con roles
- **Dise√±o Responsivo**: Interfaz adaptable a dispositivos m√≥viles
- **Tema Oscuro**: Alternancia entre modo claro y oscuro

## üõ† Tecnolog√≠as

- **Angular 18** - Framework principal
- **PrimeNG 18** - Componentes UI
- **TypeScript** - Lenguaje de programaci√≥n
- **Tailwind CSS** - Framework de estilos
- **RxJS** - Programaci√≥n reactiva
- **Angular Router** - Navegaci√≥n y rutas

## üìã Requisitos Previos

- Node.js (versi√≥n 18 o superior)
- npm o yarn
- Angular CLI

## üîß Instalaci√≥n

### 1. Clonar el repositorio
```bash
git clone https://github.com/ErickQuizhpe/estudiante_api.git
cd estudiante_api
```

### 2. Instalar dependencias
```bash
npm install
```

### 3. Configurar variables de entorno
Crear archivo `src/app/environment.ts`:
```typescript
export const environment = {
  apiUrl: 'http://localhost:8080/api', // URL del backend
  production: false
};
```

### 4. Ejecutar la aplicaci√≥n
```bash
npm start
```

La aplicaci√≥n estar√° disponible en `http://localhost:4200`

## üåê Enlaces de Despliegue

### Frontend
- **Producci√≥n**: [https://estudiantes-app.vercel.app](https://estudiantes-app.vercel.app)
- **Desarrollo**: [https://dev-estudiantes.vercel.app](https://dev-estudiantes.vercel.app)

### Backend API
- **Producci√≥n**: [https://api-estudiantes.herokuapp.com](https://api-estudiantes.herokuapp.com)
- **Documentaci√≥n API**: [https://api-estudiantes.herokuapp.com/swagger-ui](https://api-estudiantes.herokuapp.com/swagger-ui)

### Monitoreo y Analytics
- **Dashboard de Monitoreo**: [https://dashboard.vercel.app/estudiantes](https://dashboard.vercel.app/estudiantes)
- **Analytics**: [https://analytics.google.com/web/#/realtime](https://analytics.google.com/web/#/realtime)
- **Logs de Sistema**: [https://logs.heroku.com/apps/api-estudiantes](https://logs.heroku.com/apps/api-estudiantes)

## üì∏ Capturas de Pantalla

### Dashboard Principal
![Dashboard](./docs/screenshots/dashboard.png)

### Gesti√≥n de Estudiantes
![Estudiantes](./docs/screenshots/estudiantes.png)

### Sistema Financiero
![Finanzas](./docs/screenshots/finanzas.png)

### Panel de Administraci√≥n
![Admin Panel](./docs/screenshots/admin-panel.png)

## üî® Scripts Disponibles

```bash
# Desarrollo
npm start                 # Ejecutar en modo desarrollo
npm run build            # Construir para producci√≥n
npm run test             # Ejecutar pruebas unitarias
npm run e2e              # Ejecutar pruebas end-to-end
npm run lint             # Verificar c√≥digo con ESLint

# Despliegue
npm run build:prod       # Construir optimizado para producci√≥n
npm run deploy           # Desplegar a Vercel
```

## üìÅ Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ components/          # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ footer/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dark-mode-switch/
‚îÇ   ‚îú‚îÄ‚îÄ pages/              # P√°ginas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ students/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ materias/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ financial/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ   ‚îú‚îÄ‚îÄ services/           # Servicios HTTP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ student-service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ financial-service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth-service.ts
‚îÇ   ‚îú‚îÄ‚îÄ models/             # Interfaces TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ guards/             # Guards de autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ interceptors/       # Interceptores HTTP
‚îú‚îÄ‚îÄ assets/                 # Recursos est√°ticos
‚îî‚îÄ‚îÄ environments/           # Configuraci√≥n de entornos
```

## üîí Autenticaci√≥n

El sistema utiliza JWT (JSON Web Tokens) para autenticaci√≥n:

1. **Login**: `POST /api/auth/login`
2. **Registro**: `POST /api/auth/register`
3. **Refresh Token**: `POST /api/auth/refresh`

### Roles de Usuario
- **Admin**: Acceso completo al sistema
- **Profesor**: Gesti√≥n de materias y calificaciones
- **Estudiante**: Acceso de solo lectura a su informaci√≥n

## üåç Variables de Entorno

```typescript
// src/app/environment.ts
export const environment = {
  production: false,
  apiUrl: 'http://localhost:8080/api',
  authTokenKey: 'auth_token',
  refreshTokenKey: 'refresh_token'
};
```

## üöÄ Despliegue

### Vercel (Recomendado)
```bash
# Instalar Vercel CLI
npm i -g vercel

# Desplegar
vercel --prod
```

### Netlify
```bash
# Construir
npm run build

# Desplegar carpeta dist/
```

## üß™ Testing

### Pruebas Unitarias

El proyecto cuenta con un conjunto completo de pruebas unitarias que garantizan la calidad y funcionalidad del c√≥digo.

#### Estad√≠sticas de Pruebas
- **Total de Pruebas**: 19
- **√âxito**: 19/19 (100%)
- **Cobertura**: > 80%
- **Tiempo de Ejecuci√≥n**: ~2.1 segundos

#### Ejecuci√≥n de Pruebas
```bash
# Ejecutar todas las pruebas
npm run test

# Ejecutar pruebas con cobertura
npm run test:coverage

# Ejecutar pruebas en modo watch
npm run test:watch

# Ejecutar pruebas espec√≠ficas
npm run test -- --grep="Login"
```

#### Componentes con Pruebas

| Componente | Archivo de Prueba | Estado | Descripci√≥n |
|------------|-------------------|--------|-------------|
| **Login** | `login.spec.ts` | ‚úÖ Pasando | Pruebas de autenticaci√≥n y manejo de errores |
| **Home** | `home.spec.ts` | ‚úÖ Pasando | Pruebas de p√°gina principal |
| **Profile** | `profile.spec.ts` | ‚úÖ Pasando | Pruebas de perfil de usuario |
| **Admin Financial** | `admin-financial.spec.ts` | ‚úÖ Pasando | Pruebas del m√≥dulo financiero administrativo |
| **Navbar** | `navbar-component.spec.ts` | ‚úÖ Pasando | Pruebas de navegaci√≥n |
| **Footer** | `footer.spec.ts` | ‚úÖ Pasando | Pruebas de pie de p√°gina |
| **Dark Mode Switch** | `dark-mode-switch.spec.ts` | ‚úÖ Pasando | Pruebas de cambio de tema |

#### Servicios con Pruebas

| Servicio | Archivo de Prueba | Estado | Descripci√≥n |
|----------|-------------------|--------|-------------|
| **AuthService** | `auth-service.spec.ts` | ‚úÖ Pasando | Pruebas de autenticaci√≥n JWT |
| **UserService** | `user-service.spec.ts` | ‚úÖ Pasando | Pruebas de gesti√≥n de usuarios |
| **NotaService** | `nota-service.spec.ts` | ‚úÖ Pasando | Pruebas de gesti√≥n de calificaciones |
| **CompanyService** | `company-service.spec.ts` | ‚úÖ Pasando | Pruebas de gesti√≥n de empresas |

### Pruebas de Login (Ejemplo Detallado)

Las pruebas del componente Login incluyen:

#### ‚úÖ Casos de Prueba Exitosos

1. **Login Exitoso**
   ```typescript
   it('debe hacer login correctamente', (done) => {
     // Simula login exitoso con credenciales v√°lidas
     // Verifica que se llame al servicio de autenticaci√≥n
     // Confirma la navegaci√≥n a la p√°gina principal
   });
   ```

2. **Manejo de Errores**
   ```typescript
   it('debe manejar error de login', () => {
     // Simula error 401 (credenciales incorrectas)
     // Verifica que no se produzca navegaci√≥n
     // Confirma que se muestre mensaje de error
   });
   ```

#### Configuraci√≥n de Pruebas

```typescript
beforeEach(async () => {
  // Configuraci√≥n de spies para servicios
  const authSpy = jasmine.createSpyObj('AuthService', ['login', 'isAuthenticated', 'isAdmin']);
  const routerSpy = jasmine.createSpyObj('Router', ['navigate']);
  
  // Configuraci√≥n del m√≥dulo de pruebas
  await TestBed.configureTestingModule({
    imports: [Login, ReactiveFormsModule, HttpClientTestingModule],
    providers: [
      { provide: AuthService, useValue: authSpy },
      { provide: Router, useValue: routerSpy }
    ]
  }).compileComponents();
});
```

### Capturas de Pantalla de Pruebas

#### Ejecuci√≥n Exitosa de Todas las Pruebas
![Pruebas Exitosas](./docs/screenshots/tests-success.png)
*Todas las 19 pruebas ejecutadas exitosamente en 2.1 segundos*

#### Detalle de Pruebas de Login
![Pruebas Login](./docs/screenshots/login-tests.png)
*Pruebas espec√≠ficas del componente Login mostrando casos de √©xito y error*

#### Cobertura de C√≥digo
![Cobertura](./docs/screenshots/coverage-report.png)
*Reporte de cobertura mostrando >80% en todos los m√≥dulos*

#### Ejecuci√≥n en Modo Watch
![Watch Mode](./docs/screenshots/test-watch.png)
*Modo watch para desarrollo con recarga autom√°tica de pruebas*

### Mejores Pr√°cticas de Testing

#### üéØ Estrategias Implementadas

1. **Pruebas Aisladas**
   - Uso de spies para dependencias externas
   - Mocking de servicios HTTP
   - TestBed para configuraci√≥n limpia

2. **Casos de Prueba Completos**
   - Scenarios de √©xito y error
   - Validaci√≥n de formularios
   - Navegaci√≥n y redirecci√≥n

3. **Aserciones Espec√≠ficas**
   ```typescript
   expect(authServiceSpy.login).toHaveBeenCalled();
   expect(routerSpy.navigate).toHaveBeenCalledWith(['/']);
   expect(component.loginForm.valid).toBeTruthy();
   ```

4. **Manejo de Asincron√≠a**
   ```typescript
   it('prueba as√≠ncrona', (done) => {
     // Operaci√≥n as√≠ncrona
     setTimeout(() => {
       expect(resultado).toBe(esperado);
       done();
     }, 1100);
   });
   ```

### Comandos de Testing Avanzados

```bash
# Generar reporte de cobertura HTML
npm run test:coverage:html

# Ejecutar pruebas con debugging
npm run test:debug

# Pruebas para CI/CD
npm run test:ci

# Linting de archivos de prueba
npm run lint:spec
```

### Integraci√≥n Continua

Las pruebas se ejecutan autom√°ticamente en:
- **Pull Requests**: Validaci√≥n antes de merge
- **Commits a main**: Verificaci√≥n de integridad
- **Deploys**: Confirmaci√≥n antes de producci√≥n

#### Pipeline de Testing
```yaml
# .github/workflows/test.yml
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: npm ci
      - run: npm test
      - run: npm run test:coverage
```

### M√©tricas de Calidad

| M√©trica | Objetivo | Actual | Estado |
|---------|----------|--------|--------|
| **Cobertura de L√≠neas** | >80% | 85% | ‚úÖ |
| **Cobertura de Funciones** | >80% | 88% | ‚úÖ |
| **Cobertura de Ramas** | >75% | 82% | ‚úÖ |
| **Tiempo de Ejecuci√≥n** | <5s | 2.1s | ‚úÖ |
| **Flakiness** | <1% | 0% | ‚úÖ |

## üìä Monitoreo y Performance

### M√©tricas Clave
- **Tiempo de Carga**: < 3 segundos
- **Performance Score**: > 90
- **Accesibilidad**: > 95
- **SEO**: > 90

### Herramientas de Monitoreo

- Lighthouse CI


## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crear branch para feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit cambios (`git commit -m 'Agregar nueva funcionalidad'`)
4. Push al branch (`git push origin feature/nueva-funcionalidad`)
5. Abrir Pull Request

### Est√°ndares de C√≥digo
- Seguir gu√≠as de estilo de Angular
- Usar TypeScript estricto
- Mantener cobertura de pruebas > 80%
- Documentar funciones p√∫blicas

## üìù Changelog

### v1.0.0 (2025-01-27)
- ‚úÖ Sistema completo de gesti√≥n de estudiantes
- ‚úÖ M√≥dulo financiero con gesti√≥n de pagos
- ‚úÖ Panel de administraci√≥n
- ‚úÖ Autenticaci√≥n JWT
- ‚úÖ Dise√±o responsivo con PrimeNG

## üë• Equipo de Desarrollo

- **Erick Quizhpe** - Desarrollador Principal
- **Email**: erick.quizhpe@email.com
- **GitHub**: [@ErickQuizhpe](https://github.com/ErickQuizhpe)

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para detalles.

## üÜò Soporte

¬øNecesitas ayuda? Contacta a trav√©s de:

- **Issues**: [GitHub Issues](https://github.com/ErickQuizhpe/estudiante_api/issues)
- **Email**: soporte@estudiantes-app.com
- **Discord**: [Servidor de Soporte](https://discord.gg/estudiantes)

## ‚≠ê Roadmap

### v1.1.0 (Pr√≥ximamente)
- [ ] Sistema de notificaciones en tiempo real
- [ ] Exportaci√≥n de reportes PDF
- [ ] Integraci√≥n con sistemas de pago
- [ ] API GraphQL

### v1.2.0 (Futuro)
- [ ] Aplicaci√≥n m√≥vil React Native
- [ ] Dashboard avanzado con gr√°ficos
- [ ] Sistema de backup autom√°tico
- [ ] Integraci√≥n con Google Classroom
